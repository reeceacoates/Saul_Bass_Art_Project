# Inspired by geometric spirals, this sketch uses hypotrochoid equations to create motion
# File needed: "person.png"

angle = 0  # rotation angle for layers
t_offset = 0  # time offset to animate 'breathing' motion

def setup():
    global img
    size(800, 800)  # larger canvas for intricate design
    stroke(255)
    noFill()
    strokeWeight(1.5)
    img = loadImage("person.png")  # central image

def draw():
    global angle, t_offset
    background(234, 60, 36)  # Vertigo-inspired red-orange

    translate(width/2, height/2)

    # Hypotrochoid parameters
    R = 250
    r = 80
    d = 200 + 40 * sin(t_offset * 0.8)  # 'breathing' central displacement

    num_layers = 42
    rotation_step = 0.05  # small rotation between layers

    for s in range(num_layers):
        pushMatrix()
        rotate(angle + s * rotation_step)

        beginShape()
        for t in range(0, 7200, 3):
            theta = radians(t)
            x = (R - r) * cos(theta) + d * cos(((R - r) / r) * theta + t_offset)
            y = (R - r) * sin(theta) - d * sin(((R - r) / r) * theta + t_offset)
            vertex(x, y)
        endShape()
        popMatrix()

    # central 'hole' to create depth
    pushStyle()
    noStroke()
    fill(234, 60, 36)
    circle(0, 0, 100)
    popStyle()

    # central image with slight transparency
    imageMode(CENTER)
    tint(255, 230)
    image(img, 0, 0, 220, 220)
    noTint()

    # animate rotation and 'breathing'
    angle += 50
    t_offset += 0.003
